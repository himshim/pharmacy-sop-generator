<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pharmacy SOP Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <h1>Pharmacy SOP Generator</h1>
</header>

<main class="container">
  <section class="input-section">
    <!-- MODE -->
    <div class="card mode-card">
      <h2>Select Mode</h2>
      <div class="radio-group">
        <label for="mode-beginner">
          <input type="radio" id="mode-beginner" name="mode" value="beginner" checked>
          Beginner <small>(Simplified for learning)</small>
        </label>
        <label for="mode-expert">
          <input type="radio" id="mode-expert" name="mode" value="expert">
          Expert <small>(Formal for inspections)</small>
        </label>
        <label for="mode-custom">
          <input type="radio" id="mode-custom" name="mode" value="custom">
          Custom <small>(Fully editable)</small>
        </label>
      </div>
    </div>

    <!-- INSTITUTE -->
    <div class="card">
      <h3>Institute Details</h3>
      <label for="instName">Institute / College Name <small>(Required)</small></label>
      <input id="instName" placeholder="Institute / College Name" required>

      <label for="instDept">Department <small>(e.g., Pharmaceutics)</small></label>
      <input id="instDept" placeholder="Department">
    </div>

    <!-- PREDEFINED SOP -->
    <div id="predefinedBox" class="card">
      <h3>Predefined SOP</h3>
      <label for="sopSelect">Select SOP <small>(Choose from available templates)</small></label>
      <select id="sopSelect"></select>
    </div>

    <!-- CUSTOM SOP -->
    <div id="customBox" class="card hidden">
      <h3>Custom SOP</h3>
      <label for="customTitle">SOP Title <small>(Required for custom mode)</small></label>
      <input id="customTitle" placeholder="SOP Title" required>
    </div>

    <!-- SECTIONS -->
    <div class="card">
      <h3>SOP Sections</h3>
      <p><small>Toggle sections to include/exclude them. Enter details below.</small></p>

      <div class="section-group">
        <label for="purpose">
          <input type="checkbox" id="purpose-checkbox" data-sec="purpose" checked>
          Purpose
        </label>
        <textarea id="purpose" placeholder="Describe the purpose of the SOP"></textarea>
      </div>

      <div class="section-group">
        <label for="scope">
          <input type="checkbox" id="scope-checkbox" data-sec="scope" checked>
          Scope
        </label>
        <textarea id="scope" placeholder="Define the scope of application"></textarea>
      </div>

      <div class="section-group">
        <label for="responsibility">
          <input type="checkbox" id="responsibility-checkbox" data-sec="responsibility" checked>
          Responsibility
        </label>
        <textarea id="responsibility" placeholder="Who is responsible? (e.g., Lab In-charge)"></textarea>
      </div>

      <div class="section-group">
        <label for="procedure">
          <input type="checkbox" id="procedure-checkbox" data-sec="procedure" checked>
          Procedure
        </label>
        <textarea id="procedure" placeholder="Enter each step on a new line for automatic numbering"></textarea>
      </div>

      <div class="section-group">
        <label for="precautions">
          <input type="checkbox" id="precautions-checkbox" data-sec="precautions" checked>
          Precautions
        </label>
        <textarea id="precautions" placeholder="List safety precautions"></textarea>
      </div>
    </div>

    <!-- AUTHORITIES -->
    <div class="card">
      <h3>Authorities</h3>
      <p><small>Enter names and designations for sign-offs.</small></p>

      <label for="preparedBy">Prepared By – Name</label>
      <input id="preparedBy" placeholder="Name">

      <label for="preparedDesig">Prepared By – Designation</label>
      <input id="preparedDesig" placeholder="Designation">

      <label for="checkedBy">Checked By – Name</label>
      <input id="checkedBy" placeholder="Name">

      <label for="checkedDesig">Checked By – Designation</label>
      <input id="checkedDesig" placeholder="Designation">

      <label for="approvedBy">Authorized By – Name</label>
      <input id="approvedBy" placeholder="Name">

      <label for="approvedDesig">Authorized By – Designation</label>
      <input id="approvedDesig" placeholder="Designation">
    </div>

    <!-- ACTIONS -->
    <div class="card actions-card">
      <button onclick="copySOP()">Copy SOP to Clipboard <small>(Then paste in Word)</small></button>
      <p class="copy-instructions">
        Paste into Word using <b>Ctrl + V</b> (do not paste as plain text for formatting).
      </p>
      <button onclick="window.print()">Print SOP</button>
    </div>
  </section>

  <section class="preview-section">
    <!-- LIVE PREVIEW -->
    <div class="card preview-card">
      <h3>Live SOP Preview</h3>
      <button class="toggle-format" onclick="toggleFormat()">Switch Format <small>(Inspection/Beginner)</small></button>
      <div id="preview"></div>
    </div>
  </section>
</main>

<script src="js/utils.js"></script>
<script src="js/modeController.js"></script>
<script src="js/uiController.js"></script>
<script src="js/sopEngine.js"></script>
<script src="js/export.js"></script>
<script src="js/app.js"></script>

</body>
</html>